<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Video Summary - Settings</title>
    <link rel="stylesheet" href="options.css" />
  </head>
  <body class="theme-auto">
    <div class="container">
      <header class="header">
        <div class="header-icon">
          <svg
            width="32"
            height="32"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M20.4316 10.1814C20.7051 9.33773 20.7519 8.43698 20.5673 7.56952C20.3828 6.70206 19.9732 5.89841 19.3799 5.23923C18.7866 4.58005 18.0303 4.08853 17.187 3.81399C16.3437 3.53945 15.443 3.49156 14.5753 3.67512C13.9828 3.01454 13.2267 2.52175 12.3831 2.24638C11.5396 1.97101 10.6383 1.92278 9.7702 2.10655C8.90206 2.29031 8.09768 2.69959 7.43805 3.29315C6.77842 3.88672 6.28684 4.64361 6.01282 5.48762C5.14377 5.66999 4.33818 6.07829 3.67728 6.67133C3.01638 7.26438 2.52354 8.0212 2.24845 8.86549C1.97336 9.70978 1.92575 10.6117 2.11042 11.4802C2.2951 12.3488 2.70552 13.1533 3.30032 13.8126C3.07846 14.4869 3.00273 15.2008 3.07816 15.9066C3.1536 16.6125 3.37847 17.2942 3.73782 17.9064C4.27089 18.8322 5.08384 19.5651 6.05977 19.9997C7.03569 20.4343 8.12431 20.5483 9.16907 20.3251C9.6399 20.8539 10.2177 21.2767 10.8641 21.5654C11.5106 21.8542 12.211 22.0023 12.9191 22.0001C13.989 22.0001 15.0314 21.6606 15.8962 21.0305C16.7609 20.4005 17.4036 19.5123 17.7316 18.4939C18.4262 18.351 19.0824 18.062 19.6567 17.646C20.2311 17.2301 20.7104 16.6967 21.0628 16.0814C21.5927 15.1569 21.817 14.0886 21.7037 13.029C21.5903 11.9695 21.1451 10.9728 20.4316 10.1814V10.1814Z"
              fill="currentColor"
            />
          </svg>
        </div>
        <div class="header-text">
          <h1>Video Summary Settings</h1>
          <p>Personal Edition - Configure your AI summary preferences</p>
        </div>
      </header>

      <!-- Tab Navigation -->
      <nav class="tab-nav">
        <button type="button" class="tab-btn active" data-tab="configuration">
          <svg
            width="16"
            height="16"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <circle
              cx="12"
              cy="12"
              r="3"
              stroke="currentColor"
              stroke-width="2"
            />
            <path
              d="M12 2V6M12 18V22M22 12H18M6 12H2M19.07 4.93L16.24 7.76M7.76 16.24L4.93 19.07M19.07 19.07L16.24 16.24M7.76 7.76L4.93 4.93"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
            />
          </svg>
          Configuration
        </button>
        <button type="button" class="tab-btn" data-tab="library">
          <svg
            width="16"
            height="16"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M4 19.5A2.5 2.5 0 016.5 17H20"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
            <path
              d="M6.5 2H20V22H6.5A2.5 2.5 0 014 19.5V4.5A2.5 2.5 0 016.5 2Z"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
          </svg>
          Prompt Library
        </button>
      </nav>

      <!-- Tab 1: Configuration -->
      <div id="tab-configuration" class="tab-content active">
        <form id="settingsForm">
          <!-- Section 1: AI Models -->
          <section class="section">
            <h2 class="section-title">
              <svg
                width="20"
                height="20"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <circle
                  cx="12"
                  cy="12"
                  r="3"
                  stroke="currentColor"
                  stroke-width="2"
                />
                <path
                  d="M12 2V6M12 18V22M22 12H18M6 12H2M19.07 4.93L16.24 7.76M7.76 16.24L4.93 19.07M19.07 19.07L16.24 16.24M7.76 7.76L4.93 4.93"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                />
              </svg>
              AI Models
            </h2>

            <!-- AI Mode Selection -->
            <div class="form-group">
              <label>AI Configuration Mode</label>
              <div class="radio-group">
                <label class="radio-label">
                  <input type="radio" name="aiMode" value="global" checked />
                  <span class="radio-text">
                    <strong>Global</strong>
                    <small>Use one AI model for all platforms</small>
                  </span>
                </label>
                <label class="radio-label">
                  <input type="radio" name="aiMode" value="custom" />
                  <span class="radio-text">
                    <strong>Per-Service</strong>
                    <small>Choose different AI for each platform</small>
                  </span>
                </label>
              </div>
            </div>

            <!-- Global Mode: Single AI Selection -->
            <div id="globalModeSection">
              <div class="form-group">
                <label for="selectedModel">Select AI Model</label>
                <select
                  id="selectedModel"
                  name="selectedModel"
                  class="form-control"
                >
                  <option value="chatgpt">ChatGPT</option>
                  <option value="gemini">Gemini</option>
                  <option value="grok">Grok</option>
                  <option value="claude">Claude</option>
                </select>
                <small class="form-hint">Choose which AI service to open after copying the transcript</small>
              </div>
              <div class="form-group">
                <label for="globalPrompt">Select Prompt Template</label>
                <select
                  id="globalPrompt"
                  name="globalPrompt"
                  class="form-control"
                >
                  <!-- Populated by JS -->
                </select>
                <small class="form-hint">Choose which prompt template to use for all platforms</small>
              </div>
            </div>

            <!-- Per-Service Mode: Individual AI + Prompt + Auto-submit Selection -->
            <div id="customModeSection" class="hidden">
              <div class="service-config-grid">
                <!-- Header Row -->
                <div class="service-config-header">
                  <span class="header-label">Platform</span>
                  <span class="header-label">AI Model</span>
                  <span class="header-label">Prompt</span>
                  <span class="header-label" title="Enable to automatically send prompt when AI page opens. Disable to review/edit before sending.">Auto-submit</span>
                </div>
                <!-- YouTube -->
                <div class="service-config-item">
                  <label class="service-label">YouTube</label>
                  <div class="service-selects">
                    <select
                      id="youtubeModel"
                      name="youtubeModel"
                      class="form-control"
                    >
                      <option value="chatgpt">ChatGPT</option>
                      <option value="gemini">Gemini</option>
                      <option value="grok">Grok</option>
                      <option value="claude">Claude</option>
                    </select>
                    <select
                      id="youtubePrompt"
                      name="youtubePrompt"
                      class="form-control prompt-select"
                    >
                      <!-- Populated by JS -->
                    </select>
                    <label class="toggle-switch" title="Auto-submit for YouTube">
                      <input type="checkbox" id="youtubeAutoSubmit" name="youtubeAutoSubmit" checked />
                      <span class="toggle-slider"></span>
                    </label>
                  </div>
                </div>
                <!-- Udemy -->
                <div class="service-config-item">
                  <label class="service-label">Udemy</label>
                  <div class="service-selects">
                    <select
                      id="udemyModel"
                      name="udemyModel"
                      class="form-control"
                    >
                      <option value="chatgpt">ChatGPT</option>
                      <option value="gemini">Gemini</option>
                      <option value="grok">Grok</option>
                      <option value="claude">Claude</option>
                    </select>
                    <select
                      id="udemyPrompt"
                      name="udemyPrompt"
                      class="form-control prompt-select"
                    >
                      <!-- Populated by JS -->
                    </select>
                    <label class="toggle-switch" title="Auto-submit for Udemy">
                      <input type="checkbox" id="udemyAutoSubmit" name="udemyAutoSubmit" checked />
                      <span class="toggle-slider"></span>
                    </label>
                  </div>
                </div>
                <!-- Coursera -->
                <div class="service-config-item">
                  <label class="service-label">Coursera</label>
                  <div class="service-selects">
                    <select
                      id="courseraModel"
                      name="courseraModel"
                      class="form-control"
                    >
                      <option value="chatgpt">ChatGPT</option>
                      <option value="gemini">Gemini</option>
                      <option value="grok">Grok</option>
                      <option value="claude">Claude</option>
                    </select>
                    <select
                      id="courseraPrompt"
                      name="courseraPrompt"
                      class="form-control prompt-select"
                    >
                      <!-- Populated by JS -->
                    </select>
                    <label class="toggle-switch" title="Auto-submit for Coursera">
                      <input type="checkbox" id="courseraAutoSubmit" name="courseraAutoSubmit" checked />
                      <span class="toggle-slider"></span>
                    </label>
                  </div>
                </div>
                <!-- DataCamp -->
                <div class="service-config-item">
                  <label class="service-label">DataCamp</label>
                  <div class="service-selects">
                    <select
                      id="datacampModel"
                      name="datacampModel"
                      class="form-control"
                    >
                      <option value="chatgpt">ChatGPT</option>
                      <option value="gemini">Gemini</option>
                      <option value="grok">Grok</option>
                      <option value="claude">Claude</option>
                    </select>
                    <select
                      id="datacampPrompt"
                      name="datacampPrompt"
                      class="form-control prompt-select"
                    >
                      <!-- Populated by JS -->
                    </select>
                    <label class="toggle-switch" title="Auto-submit for DataCamp">
                      <input type="checkbox" id="datacampAutoSubmit" name="datacampAutoSubmit" checked />
                      <span class="toggle-slider"></span>
                    </label>
                  </div>
                </div>
              </div>
              <small class="form-hint"
                >Configure AI model, prompt template, and auto-submit for each platform</small
              >
            </div>

            <details class="advanced-section" id="advancedAIConfig">
              <summary class="advanced-toggle">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M12 15l-5-5h10l-5 5z" fill="currentColor"/>
                </svg>
                Advanced: AI Connection Configuration
              </summary>
              <div class="advanced-content">
                <small class="form-hint" style="margin-bottom: 12px; display: block;">
                  Set custom URLs for each AI service to maintain conversation context. Leave blank to use the default homepage.
                </small>
                <div class="form-group">
                  <label for="chatgptUrl">ChatGPT URL</label>
                  <input
                    type="url"
                    id="chatgptUrl"
                    name="chatgptUrl"
                    class="form-control"
                    placeholder="https://chatgpt.com/ (default)"
                  />
                  <small class="form-hint">e.g., https://chatgpt.com/c/abc123 for a specific conversation</small>
                </div>
                <div class="form-group">
                  <label for="geminiUrl">Gemini URL</label>
                  <input
                    type="url"
                    id="geminiUrl"
                    name="geminiUrl"
                    class="form-control"
                    placeholder="https://gemini.google.com/app (default)"
                  />
                  <small class="form-hint">e.g., https://gemini.google.com/u/1/app for a specific account</small>
                </div>
                <div class="form-group">
                  <label for="grokUrl">Grok URL</label>
                  <input
                    type="url"
                    id="grokUrl"
                    name="grokUrl"
                    class="form-control"
                    placeholder="https://grok.com/ (default)"
                  />
                  <small class="form-hint">e.g., https://grok.com/chat/abc123 for a specific thread</small>
                </div>
                <div class="form-group">
                  <label for="claudeUrl">Claude URL</label>
                  <input
                    type="url"
                    id="claudeUrl"
                    name="claudeUrl"
                    class="form-control"
                    placeholder="https://claude.ai/new (default)"
                  />
                  <small class="form-hint">e.g., https://claude.ai/chat/abc123 for a specific conversation</small>
                </div>
              </div>
            </details>
          </section>

          <!-- Section 2: General Settings -->
          <section class="section">
            <h2 class="section-title">
              <svg
                width="20"
                height="20"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <circle
                  cx="12"
                  cy="12"
                  r="10"
                  stroke="currentColor"
                  stroke-width="2"
                />
                <path
                  d="M12 6V12L16 14"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                />
              </svg>
              General Settings
            </h2>

            <div class="form-group">
              <label for="theme">Theme</label>
              <select id="theme" name="theme" class="form-control">
                <option value="auto">Auto (System)</option>
                <option value="light">Light</option>
                <option value="dark">Dark</option>
              </select>
              <small class="form-hint"
                >Choose the appearance of this settings page</small
              >
            </div>

            <div class="form-group">
              <label>Copy Format</label>
              <div class="radio-group">
                <label class="radio-label">
                  <input
                    type="radio"
                    name="copyFormat"
                    value="markdown"
                    checked
                  />
                  <span class="radio-text">
                    <strong>Markdown</strong>
                    <small>**[00:12]** Formatted text</small>
                  </span>
                </label>
                <label class="radio-label">
                  <input type="radio" name="copyFormat" value="plain" />
                  <span class="radio-text">
                    <strong>Plain Text</strong>
                    <small>(00:12) Simple text</small>
                  </span>
                </label>
              </div>
            </div>

            <div class="form-group">
              <label class="checkbox-label">
                <input
                  type="checkbox"
                  id="showButton"
                  name="showButton"
                  checked
                />
                <span class="checkbox-text">
                  <strong>Show Summary Button in Video Player</strong>
                  <small
                    >Display the "Transcript & Summary" button on videos</small
                  >
                </span>
              </label>
            </div>

            <div class="form-group" id="autoFillGroup">
              <label class="checkbox-label">
                <input
                  type="checkbox"
                  id="autoFillEnabled"
                  name="autoFillEnabled"
                  checked
                />
                <span class="checkbox-text">
                  <strong>Auto-fill & Auto-submit</strong>
                  <small
                    >Automatically paste prompt into AI chat and click send
                    button</small
                  >
                </span>
              </label>
            </div>
          </section>

          <!-- Save Button -->
          <div class="form-actions">
            <button type="submit" class="btn btn-primary" id="saveBtn">
              <svg
                width="18"
                height="18"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H16L21 8V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21Z"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
                <path
                  d="M17 21V13H7V21M7 3V8H15"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
              Save Settings
            </button>
            <div class="save-status" id="saveStatus"></div>
          </div>
        </form>
      </div>

      <!-- Tab 2: Prompt Library -->
      <div id="tab-library" class="tab-content">
        <div class="library-container">
          <!-- Sidebar: Prompt List -->
          <aside class="library-sidebar">
            <div class="library-header">
              <h3>My Prompts</h3>
              <button
                type="button"
                class="btn btn-small btn-accent"
                id="newPromptBtn"
              >
                <svg
                  width="14"
                  height="14"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M12 5V19M5 12H19"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                  />
                </svg>
                New
              </button>
            </div>
            <ul class="prompt-list" id="promptList">
              <!-- Populated by JS -->
            </ul>
          </aside>

          <!-- Main: Prompt Editor -->
          <main class="library-editor">
            <div id="editorPlaceholder" class="editor-placeholder">
              <svg
                width="48"
                height="48"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
                <path
                  d="M14 2V8H20"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
              <p>Select a prompt to edit or create a new one</p>
            </div>

            <div id="editorForm" class="editor-form hidden">
              <div class="form-group">
                <label for="promptName">Prompt Name</label>
                <input
                  type="text"
                  id="promptName"
                  class="form-control"
                  placeholder="e.g., Coding Tutorial Summary"
                />
              </div>
              <div class="form-group">
                <label for="promptDescription">Description (optional)</label>
                <input
                  type="text"
                  id="promptDescription"
                  class="form-control"
                  placeholder="Brief description of this prompt"
                />
              </div>
              <div class="form-group">
                <label for="promptContent">Prompt Content</label>
                <div class="variable-buttons">
                  <button type="button" class="var-btn" data-var="{{Title}}">
                    Title
                  </button>
                  <button type="button" class="var-btn" data-var="{{URL}}">
                    URL
                  </button>
                  <button
                    type="button"
                    class="var-btn"
                    data-var="{{Transcript}}"
                  >
                    Transcript
                  </button>
                </div>
                <textarea
                  id="promptContent"
                  class="form-control prompt-textarea"
                  rows="12"
                  placeholder="Enter your prompt template..."
                ></textarea>
                <small class="form-hint"
                  >Click variable buttons above to insert them into your
                  prompt</small
                >
              </div>
              <div class="editor-actions">
                <button
                  type="button"
                  class="btn btn-primary"
                  id="savePromptBtn"
                >
                  <svg
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H16L21 8V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21Z"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                  </svg>
                  Save Prompt
                </button>
                <button
                  type="button"
                  class="btn btn-secondary"
                  id="duplicatePromptBtn"
                >
                  <svg
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <rect
                      x="9"
                      y="9"
                      width="13"
                      height="13"
                      rx="2"
                      stroke="currentColor"
                      stroke-width="2"
                    />
                    <path
                      d="M5 15H4C2.89543 15 2 14.1046 2 13V4C2 2.89543 2.89543 2 4 2H13C14.1046 2 15 2.89543 15 4V5"
                      stroke="currentColor"
                      stroke-width="2"
                    />
                  </svg>
                  Duplicate
                </button>
                <button
                  type="button"
                  class="btn btn-danger"
                  id="deletePromptBtn"
                >
                  <svg
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M3 6H5H21"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                    <path
                      d="M8 6V4C8 3.46957 8.21071 2.96086 8.58579 2.58579C8.96086 2.21071 9.46957 2 10 2H14C14.5304 2 15.0391 2.21071 15.4142 2.58579C15.7893 2.96086 16 3.46957 16 4V6M19 6V20C19 20.5304 18.7893 21.0391 18.4142 21.4142C18.0391 21.7893 17.5304 22 17 22H7C6.46957 22 5.96086 21.7893 5.58579 21.4142C5.21071 21.0391 5 20.5304 5 20V6H19Z"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                  </svg>
                  Delete
                </button>
              </div>
              <div class="save-status" id="promptSaveStatus"></div>
            </div>
          </main>
        </div>
      </div>
    </div>

    <script src="options.js"></script>
  </body>
</html>
